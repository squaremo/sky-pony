 <!DOCTYPE html>
<html>
  <head>
    <title>Sky Pony</title>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <link rel="stylesheet" href="http://code.jquery.com/mobile/1.0/jquery.mobile-1.0.min.css" />
    <link rel="stylesheet" href="css/index.css" />
    <!--link rel="stylesheet"
        href="http://twitter.github.com/bootstrap/1.4.0/bootstrap.min.css"/-->
    <style type="text/css">
      /* body { padding-top: 40px; } */

      /* Make this look a bit like a mobile device. */
      body {
        width: 320px !important;
        position: relative;
        left: 50%;
        margin-left: -160px !important;
        height: 480px !important;
      }

    </style>
    <script src="js/jquery-1.7.1.js"></script>
    <script type="text/javascript"
            src="http://code.jquery.com/mobile/1.0/jquery.mobile-1.0.min.js"></script>
    <script src="js/knockout-2.0.0.js"></script>
    <script src="http://cdn.sockjs.org/sockjs-0.2.min.js"></script>
    <script src="js/index.js"></script>
    <script type="text/javascript">
      $(document).on('pageinit', function() {
        console.log("Ready");
        ko.applyBindings(model);
      });
    </script>
  </head>
  <body>
    <div data-role="page" id="start" data-content-theme="e">
      <header data-role="header">
        <h1>RabbitMQ Health</h1>
      </header>
      <section data-role="content">

        <section class="tile signal meter">
          <span class="sample" data-bind="text: mps"></span><span class="unit">msg/sec</span>
        </section>

        <section class="tile signal meter" data-bind="css: {hwm: memory_hwm()}">
          <span class="sample" data-bind="text: memory()"></span><span class="unit">% mem</span>
        </section>

        <section class="tile signal slidingWindow sparkline"
                 data-bind="css: {hwm: messages_hwm()} ">
          <!-- I can't make this work. Possible knockout.js bug? -->
          <!-- svg>
            <line x1="0" y1="40" x2="270" y2="40"/>
            <g>
              <rect class="sample" width="20" height="20" x="10" y="30"/>
            </g>
            <g data-bind="foreach: messages_window.scaled()">
              <rect data-bind="attr: { x: $data.index * 40 + 5,
                                       y: 40 - (40 * $data.value),
                                       height: (40 * $data.value) }"/>
            </g>
          </svg -->
          <div class="meter">
            <span class="sample"
                  data-bind="text: decimalplaces(messages_window.average(), 0)"></span>
            <span class="unit">avg</span>
          </div>
          <div class="values" data-bind="foreach: messages_window.samples()">
            <span class="sample" data-bind="text: $data">
            </span>
          </div>
          <span class="unit">messages</span>
        </section>

      </section>
      <footer data-role="footer">
        <h3>... Buttons ...</h3>
      </footer>
    </div>

    <div data-role="page" id="ui-elements">
      <div data-role="header">
        <h1>Sky pony</h1>
      </div>
      <div data-role="content">
        <p>Here comes the sky pony!</p>
      </div>
      <div data-role="footer">
        <h3>There it goes...</h3>
      </div>
    </div>
  </body>
</html>